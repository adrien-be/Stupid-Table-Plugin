(function(c){c.fn.stupidsort=function(a){var b=c(this),g=0,f=c.fn.stupidtable.dir,d=b.closest("table");b.parents("tr").find("th").slice(0,c(this).index()).each(function(){var b=c(this).attr("colspan")||1;g+=parseInt(b,10)});1!=arguments.length&&(a=null);var e=a||b.data("sort-default")||f.ASC;b.data("sort-dir")&&(e=b.data("sort-dir")===f.ASC?f.DESC:f.ASC);var k=b.data("sort")||null;null!==k&&(d.trigger("beforetablesort",{column:g,direction:e}),d.css("display"),setTimeout(function(){var a=[],l=d.data("sortFns")[k],
h=d.children("tbody").children("tr");h.each(function(b,d){var e=c(d).children().eq(g),f=e.data("sort-value"),e="undefined"!==typeof f?f:e.text();a.push([e,d])});a.sort(function(a,b){return l(a[0],b[0])});e!=f.ASC&&a.reverse();h=c.map(a,function(a){return a[1]});d.children("tbody").append(h);d.find("th").data("sort-dir",null).removeClass("sorting-desc sorting-asc");b.data("sort-dir",e).addClass("sorting-"+e);d.trigger("aftertablesort",{column:g,direction:e});d.css("display")},10))};c.fn.stupidtable=
function(a){return this.each(function(){var b=c(this);a=a||{};a=c.extend({},c.fn.stupidtable.default_sort_fns,a);b.data("sortFns",a);b.on("click.stupidtable","thead th",function(){c(this).stupidsort()})})};c.fn.stupidtable.dir={ASC:"asc",DESC:"desc"};c.fn.stupidtable.default_sort_fns={"int":function(a,b){return parseInt(a,10)-parseInt(b,10)},"float":function(a,b){return parseFloat(a)-parseFloat(b)},string:function(a,b){return a.localeCompare(b)},"string-ins":function(a,b){a=a.toLocaleLowerCase();
b=b.toLocaleLowerCase();return a.localeCompare(b)}}})(jQuery);
